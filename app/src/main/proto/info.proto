syntax = "proto3";

package com.example.infoapp;

option java_multiple_files = true;
option java_package = "com.example.infoapp.proto";
option java_outer_classname = "InfoProto";

service DataTransferService {
  rpc GetInfo (InfoRequest) returns (InfoResponse);
}

enum InfoType {
  CONTACTS = 0;
  CALL_LOGS = 1;
}

message InfoRequest {
  InfoType type = 1;
}

message InfoResponse {
  oneof data {
    ContactList contacts = 1;
    CallLogList call_logs = 2;
  }
  string message = 3;
}

message Contact {
  string name = 1;
  string phone_number = 2;
}

message ContactList {
  repeated Contact contacts = 1;
}

message CallLog {
  string number = 1;
  string type = 2; // Incoming, Outgoing, Missed
  int64 date = 3;
  int64 duration = 4;
}

message CallLogList {
  repeated CallLog logs = 1;
}
